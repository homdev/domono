'use client'

import { useState } from 'react'
import { Button } from "@/components/ui/button"
import { Card } from "@/components/ui/card"
import { MapPin } from 'lucide-react'

// Schema.org markup for SEO
const localBusinessSchema = {
    "@context": "https://schema.org",
    "@type": "PestControlService",
    "name": "IDF Nuisibles",
    "areaServed": {
      "@type": "State",
      "name": "Île-de-France",
      "containsPlace": [
        {
          "@type": "City",
          "name": "Paris"
        },
        {
          "@type": "City",
          "name": "Yvelines"
        },
        {
          "@type": "City",
          "name": "Hauts-de-Seine"
        },
        {
          "@type": "City",
          "name": "Seine-et-Marne"
        },
        {
          "@type": "City",
          "name": "Essonne"
        },
        {
          "@type": "City",
          "name": "Seine-Saint-Denis"
        },
        {
          "@type": "City",
          "name": "Val-de-Marne"
        },
        {
          "@type": "City",
          "name": "Val d'Oise"
        }
      ]
    }
  }

const departments = [
  { id: '75', name: 'Paris', population: '2.148 million' },
  { id: '78', name: 'Yvelines', population: '1.438 million' },
  { id: '92', name: 'Hauts-de-Seine', population: '1.624 million' },
  { id: '77', name: 'Seine-et-Marne', population: '1.421 million' },
  { id: '91', name: 'Essonne', population: '1.296 million' },
  { id: '93', name: 'Seine-Saint-Denis', population: '1.646 million' },
  { id: '94', name: 'Val-de-Marne', population: '1.396 million' },
  { id: '95', name: "Val d'Oise", population: '1.248 million' },
]

export default function CoverageSection() {
  const [activeDepartment, setActiveDepartment] = useState<string | null>(null)

  return (
    <section className="py-24 bg-gradient-to-b from-white to-gray-50">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(localBusinessSchema) }} />
      
      <div className="container mx-auto px-4">
        <div className="grid lg:grid-cols-2 gap-12 items-center">
          <div className="space-y-8">
            <div className="space-y-4">
              <h2 className="text-4xl font-bold leading-tight">
                Nous intervenons dans toute{' '}
                <span className="text-orange-400">l'île de France</span>
              </h2>
              <p className="text-gray-600 max-w-lg">
                Notre équipe d'experts intervient rapidement dans tous les départements 
                d'Île-de-France pour vous débarrasser efficacement des nuisibles.
              </p>
            </div>

            <div className="grid grid-cols-2 gap-4">
              {departments.map((dept) => (
                <Card
                  key={dept.id}
                  className={`group relative overflow-hidden transition-all duration-300 ${
                    activeDepartment === dept.id
                      ? 'bg-orange-100 border-orange-200'
                      : 'hover:bg-orange-50'
                  }`}
                  onMouseEnter={() => setActiveDepartment(dept.id)}
                  onMouseLeave={() => setActiveDepartment(null)}
                >
                  <Button
                    variant="ghost"
                    className="w-full justify-start p-4 h-auto"
                  >
                    <div className="flex items-start gap-3">
                      <MapPin className="h-5 w-5 text-orange-500 mt-1" />
                      <div className="text-left">
                        <div className="font-medium">{dept.name}</div>
                        <div className="text-sm text-gray-500">{dept.population}</div>
                      </div>
                    </div>
                  </Button>
                  <div className="absolute inset-0 pointer-events-none">
                    <div className="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-orange-400 to-teal-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300" />
                  </div>
                </Card>
              ))}
            </div>
          </div>

          <div className="relative aspect-square">
            <div className="absolute inset-0 bg-gradient-to-br from-teal-100/20 to-orange-100/20 rounded-3xl" />
            <svg
              viewBox="0 0 497 403"
              className="w-full h-full"
              role="img"
              aria-label="Carte de l'Île-de-France"
            >
              <g
                fill={activeDepartment ? "var(--color-primary-light)" : "rgb(var(--teal-100) / 0.2)"}
                fillRule="nonzero"
                stroke="var(--color-black)"
              >
                {/* Seine-et-Marne (77) */}
                <path
                  d="m214.26 155.28-9.09-.95a1.076 1.076 0 0 1-.52-.21l-14.58-6.72a.852.852 0 0 1-.25-.17l-8.52-7.75a1.002 1.002 0 0 1-.28-1.06l.95-2.85c.029-.072.063-.142.1-.21l2.25-3.61c.067-.104.152-.195.25-.27l2.28-1.71a1.08 1.08 0 0 1 .52-.2l6.58-.5 2.17-2.87a.907.907 0 0 1 .13-.14l3.61-3.23a1.07 1.07 0 0 1 .26-.17l3.55-1.58a.91.91 0 0 1 .4-.09l17 .41c.424.009.799.287.93.69l1.94 6 3.14 4.4a.94.94 0 0 1 .19.58v8.1c.005.083.005.167 0 .25l-.65 3.47.3-.92a.999.999 0 0 1 .42-.54l1.9-1.2a.998.998 0 0 1 .53-.16l6.6.26c.263.012.511.127.69.32l1.87 2a1 1 0 0 1 .26.75l-.25 3.33a1.057 1.057 0 0 1-.09.34l-1.62 3.48a1 1 0 0 1-.9.58l-6.8-.54a1.105 1.105 0 0 1-.23 0l-6-2-4.53 2.69-4 1.91c-.139.059-.289.09-.44.09h-.07Z"
                  className={`transition-all duration-300 ${
                    activeDepartment === '77' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                  }`}
                  onMouseEnter={() => setActiveDepartment('77')}
                  onMouseLeave={() => setActiveDepartment(null)}
                />

                {/* Val d'Oise (95) */}
                <path
                  d="M174.25 121.16a1.004 1.004 0 0 1-.88-1.47l2.27-4.24-.69-9.61-5-1.34a1.003 1.003 0 0 1-.73-.81l-.73-4.75-2.43-4.12-3.82-2.09-4.4-1.11a1 1 0 0 1-.75-.84l-1-7.68-2.54 1.26a1.001 1.001 0 0 1-.44.1h-.24l-3.7-.93-1.51 3.75a1.002 1.002 0 0 1-.82.61l-13.64 1.52h-.11a1 1 0 0 1-.84-.44l-4.89-7.36-5.4 1.34a.646.646 0 0 1-.24 0 1.002 1.002 0 0 1-1-.75l-.91-3.65-7 1.35h-.19a1.003 1.003 0 0 1-.87-.51l-3.62-6.55-5 3.81.62 2.8c.098.446-.121.906-.53 1.11l-5.32 2.66a1.001 1.001 0 0 1-.44.1 1 1 0 0 1-.83-.43l-3.39-4.94a1.002 1.002 0 0 1-.11-.9l1.84-5.19.58-4.08h-2.23a1 1 0 0 1-.84-.46l-3.75-5.77-6.35 2.24-1.41 4.42c-.083.269-.276.49-.53.61a.918.918 0 0 1-.43.1 1.23 1.23 0 0 1-.37-.07l-4.91-2-2.57 4.22a1 1 0 0 1-.85.48 1.143 1.143 0 0 1-.32 0l-4.45-1.49-9.3-.78a1.001 1.001 0 0 1-.9-.77l-1-4.5-6.1-3.38-6.11 1.08h-.18a1.003 1.003 0 0 1-.79-.39l-.88-1.13a1.003 1.003 0 0 1-.21-.75c.037-.268.182-.51.4-.67l.08-.06-.36-8.18a.996.996 0 0 1 .19-.63l7.15-10-1.45-1.62a1 1 0 0 1-.11-1l4-9.72.38-13.84a1 1 0 0 1 .35-.74l7.31-6.18.71-4.94a1 1 0 0 1 .99-.86h.14l2.63.38c.408.06.739.367.83.77l.66 2.96 4.13 2a1.002 1.002 0 0 1 .38 1.46l-4.51 6.71 4.35 6.34 4.11 1.27 3.4-2.38a.995.995 0 0 1 .48-.18l4.18-.37h.09a1 1 0 0 1 .6.2l8.32 6.12 7.88-1.79a.885.885 0 0 1 .23 0 1 1 0 0 1 .79.4l2.95 3.9 9.13-3.84a.999.999 0 0 1 1.1.21l2 2 6.87-5.88a1 1 0 0 1 1.12-.12l4.45 2.4 18.45-10.68a1 1 0 0 1 .5-.14h.1l3.8.38c.485.048.868.444.9.93l.32 4.79 10.5.7c.208.023.405.102.57.23l4.14 3.42a1 1 0 0 1 .36.91l-.35 2.44.69 2.29 10.63-6.85a.995.995 0 0 1 1.34.24l4.56 6.06c.248.329.268.78.05 1.13l-1.71 2.77 10.1-2.65 5-8.36c.167-.276.458-.455.78-.48l5-.38a1 1 0 0 1 .8.4l8.47 11.3 3-2.39a.998.998 0 0 1 1.24-.01l5 4 9.55.74c.518.042.922.48.92 1v3.27l2.24-2.09a.999.999 0 0 1 .71-.29c.219.002.432.072.61.2l9.84 7.57c.411.312.516.894.24 1.33l-1.89 3 9.58 2.1.31-6c0-.549.451-1 1-1h3c.549 0 1 .451 1 1v5.3l7.49 7.83c.093-.01.187-.01.28 0a1 1 0 0 1 .67.26c.354.315.438.84.2 1.25l-3.64 6.2 2.61-.22h.09a1 1 0 0 1 .68.26.999.999 0 0 1 .32.74v4.56c.01.481-.329.904-.8 1l-1.41.28-3.18 6.73a1.004 1.004 0 0 1-.7.56l-4.9 1v1l3 .6c.471.096.81.519.8 1v2.28c.016.463-.292.88-.74 1l-3.81 1-3.94 6.13a.852.852 0 0 1-.24.26l-4.56 3.42a.858.858 0 0 1-.23.13l-7.33 2.92-4.4 5.13c-.19.222-.468.35-.76.35a1.003 1.003 0 0 1-.45-.11l-5-2.5-5 1.07h-.21a1.05 1.05 0 0 1-.71-.29l-4.76-4.77-3.77-1.26-1.52 3a1 1 0 0 1-.9.55h-.14l-2-.28-2 3.57a1.002 1.002 0 0 1-.87.52h-.19l-4.14-.76a.997.997 0 0 1-.42-.18l-3.87-2.9-1.33 1.33.33 3.72a1.004 1.004 0 0 1-.87 1.08l-2.93.37-2.39.68-2.12 1.74-4.86 4.52-4.22 3.46-.1.07-4.69 3a.996.996 0 0 1-.49.12Z"
                  className={`transition-all duration-300 ${
                    activeDepartment === '95' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                  }`}
                  onMouseEnter={() => setActiveDepartment('95')}
                  onMouseLeave={() => setActiveDepartment(null)}
                />
                {/* Essonne (91) */}
                <path 
                d="M235.39 401.56a1.013 1.013 0 0 1-.41-.08l-3.42-1.52a1.002 1.002 0 0 1-.43-1.46l9.84-15.14a1 1 0 0 1 .66-.44h.17a1 1 0 0 1 .6.2l5 3.71 4.74-13.55-2.81-11-9-3.61a1.002 1.002 0 0 1-.62-.93v-2.53l-10.88-1.38a.999.999 0 0 1-.7-.43l-4.16-6.07a1 1 0 0 1-.13-.85l2.13-7.2-2.23-5.09-.73.05-.032.001a1.006 1.006 0 0 1-.968-1.251l.14-.52-2.52-5.73a1.002 1.002 0 0 1 .2-1.11l2.28-2.28a.997.997 0 0 1 .63-.29l8-.67-.62-4.63a1.001 1.001 0 0 1 .47-1l1.06-.64-1-1.81a1.002 1.002 0 0 1 .13-1.16l3.41-3.8a1 1 0 0 1 .75-.33 1 1 0 0 1 .45.1l2.56 1.29 3.87-2.21-2-2.9a1 1 0 0 1-.17-.77l.38-1.89a1.003 1.003 0 0 1 1-.81h.13l5.59.7 3.46-3.46a.999.999 0 0 1 .7-.29h3.29l-2.17-4.32-5.79-3.28a1.002 1.002 0 0 1-.51-.85l-.38-19.69c-.002-.191.05-.378.15-.54l2.83-4.6-1.27-6h-2.595a1.004 1.004 0 0 1-.995-1.1l.38-3.8a.998.998 0 0 1 .42-.71l2.08-1.47-.95-3.5c-.086-.37.046-.759.34-1l1.69-1.36 2.1-5.21-.36-5.86a1 1 0 0 1 .39-.85l6-4.61v-3.47l-4.41-2.38a1.004 1.004 0 0 1-.48-.56l-1.49-4.53a1.002 1.002 0 0 1 .66-1.27l4.52-1.4 1.63-3-4.13-2.54a1 1 0 0 1-.47-.69c-.043-.287.041-.58.23-.8l5.69-6.81c.347-.42.977-.483 1.4-.14l3 2.39 2.48-3.35-1-3.9-2.91-4.42a1.002 1.002 0 0 1 .05-1.17l5.92-7.41.34-1.19h-.57a1.003 1.003 0 0 1-.87-.51l-1.52-2.66a1.003 1.003 0 0 1 .28-1.3l3.77-2.74v-2.5c0-.179.048-.356.14-.51l1.44-2.41-3.69-.26a1.005 1.005 0 0 1-.93-1v-4.22a1.002 1.002 0 0 1 .22-.63l2.82-3.49v-7.41l-2.19-4.7-3.8-8.34a1.004 1.004 0 0 1 0-.79 1 1 0 0 1 .57-.56l2.39-.89v-.95l-3.57-1.63a1.001 1.001 0 0 1-.58-.91v-7.57a1 1 0 0 1 .48-.85l3.37-2 1.45-9c.027-.163.093-.317.19-.45l3.36-4.47h-1a1 1 0 0 1-.89-.55l-1.81-3.58-5.38-10.8a1.004 1.004 0 0 1 .35-1.29l3.47-2.22-2.84-7.63-2.29.19h-.08a.998.998 0 0 1-.68-.27 1 1 0 0 1-.32-.73v-.2l-3-.6a1.003 1.003 0 0 1-.81-1v-2.68a1.003 1.003 0 0 1 .81-1l5.2-1 3.17-6.73c.136-.285.4-.489.71-.55l1.1-.22v-2.65l-3.45.29h-.08a1 1 0 0 1-.85-.47 1.003 1.003 0 0 1 0-1l4.59-7.89a1.02 1.02 0 0 1 .27-.3l10.92-8a1 1 0 0 1 1.01-.11l8.32 3.77a.998.998 0 0 1 .42.36l6.08 9.09 3.68-4.6a.999.999 0 0 1 .78-.38c.309.009.598.16.78.41l4.8 6.47 7.15-4-.78-1.83a1.003 1.003 0 0 1 .32-1.2l7.6-5.7a.997.997 0 0 1 .59-.2h.15a1 1 0 0 1 .66.39l4.22 5.68h4.06c.366-.001.704.199.88.52l2.16 4 8.57-5.13a1.08 1.08 0 0 1 .52-.14h.11l9.12 1v-2.3a1.002 1.002 0 0 1 .7-1l6-1.9c.099-.015.201-.015.3 0 .42 0 .797.265.94.66l1.9 5.16 3.13-5.68c.174-.318.508-.517.87-.52a.877.877 0 0 1 .28 0l13.77 4-1.77-6.2a1 1 0 0 1 .25-1l4.56-4.56a1 1 0 0 1 .71-.3.939.939 0 0 1 .28 0l19.39 5.76c.44.128.738.542.72 1l-.35 4.17 8.53 12.21c.251.348.251.822 0 1.17l-6.56 8.61 14.26 9.26c.249.161.414.425.45.72l.69 5.5 4 1.68c.329.136.562.437.61.79l1.1 8.43 2.35 2.91 8-4.15a.993.993 0 0 1 .82-.04 1 1 0 0 1 .58.58l3.65 10.16 2.59 2.87 8.34-8.37a.999.999 0 0 1 .71-.29.995.995 0 0 1 .35.06 1 1 0 0 1 .64.88l.74 13.27 1.63 1.63a.927.927 0 0 1 .29.64l.32 4.8 5.23 3.24 3.72-1.35a.986.986 0 0 1 .91.12l4.91 3.42a1 1 0 0 1 .42 1l-.55 3.79 9.13-2.61a.877.877 0 0 1 .28 0 1 1 0 0 1 1 1v13.65c.014.469-.304.888-.76 1l-9.09 2.24h-.42l-7-1.31-.35 1.92 6-.32c.527-.001.968.414 1 .94l.38 6.46c.009.484-.335.908-.81 1l-7.35 1.32-2.11 6.51 8.91.33c.527-.001.968.414 1 .94l.32 5.49h5.9c.523-.001.963.408 1 .93l1.11 17.45a1 1 0 0 1-.34.81l-5.8 5.12 3 5c.114.193.16.418.13.64l-.88 7.05 7.7-4.64a1.08 1.08 0 0 1 .52-.14h.19l7.94 1.52a1.001 1.001 0 0 1 .65 1.54l-1.25 1.87h3.83c.396-.003.758.229.92.59l2.66 6.05a1.001 1.001 0 0 1-.55 1.34l-10.73 4.16 1.79 3.58a.998.998 0 0 1-.67 1.42l-4.79 1.07-6.1 3.55 5.4 7.43c.293.41.232.981-.14 1.32l-9.08 8.36a.998.998 0 0 1-.68.27.757.757 0 0 1-.26 0l-5.07-1.35-2.19 2.68 4.17 2.1a1 1 0 0 1 .54.79l.77 7.19a1 1 0 0 1-.61 1l-11.39 4.85 6.16 9.22c.178.265.219.6.11.9l-2.82 7.73 4.49 4.49c.195.196.3.464.29.74l-.38 9.47a1 1 0 0 1-.39.76 1 1 0 0 1-.61.2.81.81 0 0 1-.22 0l-10.14-2.37v6.72c0 .549-.451 1-1 1h-.1l-18.21-1.86-6.87 5.05a.996.996 0 0 1-.52.2l-15.62 1.14a1 1 0 0 1-.67-.26l-3-2.73-12.56 1.78-4.71 4.35a.941.941 0 0 1-.59.26l-12.65 1.09-3.26 8.11-2.45 6.16 2.47 10.9 2.86 1c.424.143.703.553.68 1v6.46c0 .199-.059.394-.17.56l-9.47 14c-.11.165-.267.294-.45.37l-7.71 3.16v3.13c0 .4-.241.764-.61.92l-6.52 2.73.7 9.16a.999.999 0 0 1-.24.74c-.184.2-.439.322-.71.34l-15.55.74-10.33 10a.999.999 0 0 1-.7.28 1.114 1.114 0 0 1-.49-.12l-6.8-3.8a1.004 1.004 0 0 1-.46-1.2l2.91-8.45-12.71.64v5.86a1 1 0 0 1-.58.9l-12.12 5.7a1 1 0 0 1-.25.08l-10.23 1.87h-.18a.997.997 0 0 1-.75-.34l-4.69-5.33-4.54 3.59a.995.995 0 0 1-.62.21l-10.34-.76a1.003 1.003 0 0 1-.91-.83l-.27-1.62-5.64-1.25-4.14 3.82a1 1 0 0 1-.68.26h-12.7l-2 3.29a1.002 1.002 0 0 1-.84.3Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '91' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('91')}
                onMouseLeave={() => setActiveDepartment(null)}
                />

              {/* Seine-Saint-Denis (93) */}
                <path 
                d="M198.97 185.28a1.003 1.003 0 0 1-1-.83l-.42-2.3-1.69 1.69a1.003 1.003 0 0 1-.7.3 1.002 1.002 0 0 1-.73-.35l-2.24-2.66a1.003 1.003 0 0 1 0-1.3l2.42-2.75-2.81-3.1-4.8.69h-.14a1 1 0 0 1-.73-.32l-5.53-5.93-.53-.23a1.003 1.003 0 0 1-.6-1l.28-3.43-3.78-1.3-5-1.92a1.001 1.001 0 0 1-.63-.74l-1.1-5.91-4.47-7.41a1.05 1.05 0 0 1-.13-.35l-.82-4.87-1.08-6.5a.996.996 0 0 1 .07-.56l2.66-6 1.92-3.85c.093-.183.239-.333.42-.43l4.64-2.51.87-1.66a.923.923 0 0 1 .35-.38l4.64-2.95 4.13-3.38 4.86-4.52 2.33-1.91a.874.874 0 0 1 .36-.18l2.65-.76a.42.42 0 0 1 .15 0l3-.38h.18l5.6.09a.86.86 0 0 1 .27.05l1.9.56.14.06 1.81.85c.1.052.191.119.27.2l1.4 1.39.08.1.66.85a.995.995 0 0 1 .21.62v2.75a.918.918 0 0 1-.08.4l-.95 2.18a.846.846 0 0 1-.18.28l-1.29 1.42-.18.16-2.36 1.6 1.69 2.71c.153.245.193.544.11.82a1.001 1.001 0 0 1-.55.62l-3.46 1.55-3.42 3.06-2.38 3.15c-.171.23-.434.376-.72.4l-6.74.51-1.9 1.43-2.09 3.35-.7 2.11 7.92 7.22 4.29 2 10.36 4.79c.325.154.543.471.57.83l.19 2.66a.89.89 0 0 1-.12.55l-1.05 1.93-.49 3.42 1.49 2.12a1 1 0 0 1 .12.9l-1.33 3.8-1.58 4.74 1.32 2.83c.108.252.108.538 0 .79a1 1 0 0 1-.56.56l-1.24.51V184c.004.506-.378.939-.88 1l-3 .38-.15-.1Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '93' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('93')}
                onMouseLeave={() => setActiveDepartment(null)}
                />

                {/* Hauts-de-Seine (92) */}
                <path 
                d="M268.73 156.5a.922.922 0 0 1-.32-.06l-4.18-1.39a1.01 1.01 0 0 1-.37-.22l-6-5.66a1.002 1.002 0 0 1-.31-.65l-.16-1.85-4-3.15-5.81-3.91-2.61-1.92-7.23.18-3.34 3-.13.1-2.66 1.68a.998.998 0 0 1-.53.16h-.12l-4.71-.54a1.004 1.004 0 0 1-.89-1v-7.85l-3-4.27a.858.858 0 0 1-.14-.27l-1.77-5.44-16.3-.39a1.003 1.003 0 0 1-1-.78l-2-3.16c-.28-.441-.17-1.03.25-1.34l.76-.56 2.32-1.58 1.1-1.22.8-1.84v-2.29l-.41-.54-1.23-1.22-1.58-.75-1.69-.51-5.47-.09a1.004 1.004 0 0 1-1-.91l-.38-4.18c-.027-.296.079-.59.29-.8l2.28-2.28a.999.999 0 0 1 .71-.29 1 1 0 0 1 .6.2l4.37 3.28 3.2.58 1.9-3.49c.174-.318.508-.517.87-.52h.13l1.94.28 1.58-3.13a1 1 0 0 1 .89-.55.94.94 0 0 1 .29 0l4.91 1.49c.157.051.3.137.42.25l4.55 4.56 4.79-1h.21a.883.883 0 0 1 .45.11l4.59 2.3 4-4.72a.99.99 0 0 1 .39-.28l7.44-3 4.31-3.23 4-6.31a.997.997 0 0 1 .59-.42l3.43-.92v-.49c-.002-.52.402-.958.92-1l3-.25h.3c.42 0 .797.265.94.66l3.38 9.08c.165.437.002.935-.39 1.19l-3.39 2.18 6.51 13h2.42a1 1 0 0 1 .89.55c.151.325.117.707-.09 1l-4.41 5.88-1.53 9.29a1.002 1.002 0 0 1-.47.7l-3.29 2v6.36l3.56 1.63c.358.161.589.518.59.91v2.28a1.002 1.002 0 0 1-.65.93l-2 .77 3.36 7.35 2.28 4.9c.06.132.091.275.09.42v2a1 1 0 0 1-.42.81 1 1 0 0 1-.62.16Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '92' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('92')}
                onMouseLeave={() => setActiveDepartment(null)}
                />

                {/* Paris (75) */}
                <path 
                d="M258.5 200a1.006 1.006 0 0 1-.61-.21l-5.32-4.15a1.003 1.003 0 0 1-.35-.52l-1.12-4.11-3.39-7.49-12.08 3v3c0 .549-.451 1-1 1a.67.67 0 0 1-.2 0l-3.67-.73-5.22.37a1.002 1.002 0 0 1-.95-.68l-.51-1.52-7.15.68h-.1a1.003 1.003 0 0 1-1-.69l-2.39-7.67h-4.59a.997.997 0 0 1-.75-.34l-2.54-2.9-1.28.51a1.162 1.162 0 0 1-.36.07 1.001 1.001 0 0 1-.91-.58l-1.49-3.2a.996.996 0 0 1 0-.74l1.71-5.13 1.16-3.33-1.41-2a1 1 0 0 1-.17-.72l.57-4a.85.85 0 0 1 .11-.34l1-1.83-.17-2.33a.998.998 0 0 1 1-1.07h.1l8.82.92 3.62-1.74 4.87-2.91a.996.996 0 0 1 .82-.09l6.31 2.09 5.89.47 1.26-2.69.21-2.71-1.3-1.4-5.82-.22-1.34.84-.68 2.07a1.002 1.002 0 0 1-.95.68.885.885 0 0 1-.23 0l-1.74-.41a1.003 1.003 0 0 1-.75-1.16l.95-5a1.003 1.003 0 0 1 1-.81h.11l4.37.5 2.23-1.5 3.55-3.18c.177-.156.404-.245.64-.25l8-.19c.214.002.424.068.6.19l2.85 2.09 5.82 3.94 4.43 3.46a1 1 0 0 1 .38.7l.16 1.9 5.6 5.25 4 1.33c.41.134.69.519.69.95v6c.001.229-.077.451-.22.63l-2.82 3.49v2.9l4.39.31a1.004 1.004 0 0 1 .78 1.52l-2.13 3.55v2.74c.001.32-.152.621-.41.81l-3.46 2.51.79 1.38h1.26c.313-.002.609.142.8.39a1 1 0 0 1 .16.88l-.76 2.7a1.068 1.068 0 0 1-.18.35l-5.59 7 2.6 4c.063.092.11.193.14.3l.25 1c.074.276.027.571-.13.81-.159.234-.41.391-.69.43l-5.92.89-.15-.06Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '75' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('75')}
                onMouseLeave={() => setActiveDepartment(null)}
                />

                {/* Yvelines (78) */}
                <path 
                d="M104.31 289.79h-.27l-12.5-3.39a1 1 0 0 1-.7-.69l-2.74-9.56-3.93 1.48a.842.842 0 0 1-.35.07 1 1 0 0 1-.84-.46l-8-12.48a.933.933 0 0 1-.15-.61l1.14-15.27-4.89-8.41-11.66-1.82a1 1 0 0 1-.69-.46 1.05 1.05 0 0 1-.11-.83l2-6.39-11.73-6.07a1 1 0 0 1-.46-.5l-4.26-10.26-3.77.63h-.17a1.003 1.003 0 0 1-.78-.39l-4.15-5.28a.998.998 0 0 1-.22-.62v-7.9l-6.45-5.3a1.004 1.004 0 0 1-.16-1.37l11.86-15.83-10.09-6.6a1.001 1.001 0 0 1-.45-.82l-.38-16.38a.99.99 0 0 1 .07-.41l3.8-9.29-2.87-1.14a1.002 1.002 0 0 1-.62-.93v-4.23l-8.54-4.29a1.002 1.002 0 0 1-.28-1.57l4.48-4.8-5.89-12.79-4.67.34a1.002 1.002 0 0 1-1-.7l-4.56-14.41c-.1-.359.008-.745.28-1l4-3.64-.9-1.79-10 .36a1.004 1.004 0 0 1-.88-1.47l5-9.27-5.64-7.08a1.05 1.05 0 0 1-.22-.66l.38-12.12c.014-.423.296-.793.7-.92a.797.797 0 0 1 .3 0c.313-.002.609.142.8.39l4.69 6.06 4.55-3.33.34-3.33c.051-.51.487-.903 1-.9h.1l11.14.98 11.5-5.18a1.003 1.003 0 0 1 1.21.3l2 2.64 1.75-1.31a.997.997 0 0 1 .59-.2c.309.001.601.145.79.39l.52.66 5.87-1h.17a1 1 0 0 1 .49.13l6.8 3.76c.248.137.426.374.49.65l1 4.23 8.74.7a.885.885 0 0 1 .23 0l3.81 1.27 2.59-4.26a1 1 0 0 1 1.22-.41l4.7 1.88 1.2-3.88c.095-.298.325-.536.62-.64l7.57-2.66c.106-.038.217-.059.33-.06a1 1 0 0 1 .84.46l3.88 6h2.85c.287 0 .561.124.75.34a.998.998 0 0 1 .24.8l-.75 5.33c.005.063.005.127 0 .19l-1.78 4.81 2.61 3.8 3.84-1.92-.59-2.66a1.002 1.002 0 0 1 .37-1l6.43-4.91a1 1 0 0 1 .6-.2c.07-.01.14-.01.21 0a1 1 0 0 1 .67.49l3.83 6.94 7.23-1.39h.19c.466-.015.884.298 1 .75l.9 3.59 5.11-1.28h.24c.334.002.646.171.83.45l3.36 5 1.59 2.41 12.46-1.39 1.67-4a1 1 0 0 1 .92-.62c.083-.01.167-.01.25 0l4.16 1.05 3.47-1.73c.139-.071.293-.109.45-.11a1 1 0 0 1 .99.88l1.06 8.41 3.86 1 .24.09 4.18 2.28a1 1 0 0 1 .38.37l2.66 4.53c.064.112.108.233.13.36l.66 4.29 5 1.35c.413.11.712.474.74.9l.76 10.6c.01.186-.028.372-.11.54l-3.42 6.43a1 1 0 0 1-.41.41l-4.63 2.51-1.76 3.52-2.52 5.73 1.82 10.88.6 1 3.86 6.44a.981.981 0 0 1 .13.33l1 5.53 4.38 1.7 4.52 1.5c.424.143.703.553.68 1l-.38 4.52c-.026.293-.18.56-.42.73l-2.62 1.9a.94.94 0 0 1-.58.19h-.24l-1.93-.48-.63 5.67a1.004 1.004 0 0 1-1 .89c-.09.01-.18.01-.27 0l-4.8-1.35-3 2.32a1.006 1.006 0 0 1-.61.21c-.199 0-.394-.059-.56-.17l-1.49-1-4 5.31a1.002 1.002 0 0 1-.8.41.842.842 0 0 1-.35-.07l-2.39-.89-1.43 1.67 1.93 4.92.51 1.34c.134.335.077.719-.15 1l-4.92 6.03a.994.994 0 0 1-.42.31l-2.65 1-1.72 3.42a1 1 0 0 1-.9.55.539.539 0 0 1-.17 0l-5.72-1-3.44 6.92a.998.998 0 0 1-.64.53l-5.1 1.36-.53 2.63 3.07 3.07 2.16-.31h.15c.478-.011.9.323 1 .79l1.42 6.68 4.8 2.05a1.002 1.002 0 0 1 .48 1.39l-2.28 4.18a1.002 1.002 0 0 1-.88.52h-.18l-3-.55v1.13l2.11 3.17c.281.422.198.994-.19 1.32l-2.21 1.84-3.41 3.76.66 3.27c.084.409-.096.829-.45 1.05l-3 1.89a.998.998 0 0 1-.53.16h-4.53a1.003 1.003 0 0 1-.45-.11l-3.62-1.81-4.72-.36a1.137 1.137 0 0 1-.41-.13l-1.92-1.1-.77 1v3l6.47 5.75a.999.999 0 0 1 .33.89l-.38 2.66c-.023.134-.07.263-.14.38l-9.7 15.68v9.73a1 1 0 0 1-.23.63l-4.91 5.89a1 1 0 0 1-.8.28Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '78' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('78')}
                onMouseLeave={() => setActiveDepartment(null)}
                />
                {/* Val-de-Marne (94) */}
                <path 
                d="M122.82 342.86a1 1 0 0 1-.74-.38l-6-7.6a1.002 1.002 0 0 1-.06-1.16l4.64-7.15-1.35-3.71a1 1 0 0 1 .09-.87l4.74-7.62-2.46-13.65-9.83-.7a1.004 1.004 0 0 1-.9-1.24l2.55-10.16-3.54-5a.999.999 0 0 1-.7.29c-.549 0-1-.451-1-1v-10a.993.993 0 0 1 .15-.53l9.74-15.74.27-1.92-6.4-5.7a.999.999 0 0 1-.34-.74v-3.8a1.002 1.002 0 0 1 .22-.63l1.52-1.9c.191-.235.478-.371.78-.37.175-.001.348.044.5.13l2.46 1.41 4.69.36c.128.013.253.047.37.1l3.58 1.8h4l2.21-1.38-.62-3.09a1 1 0 0 1 .24-.87l3.8-4.18a.474.474 0 0 1 .1-.1l1.59-1.32-1.79-2.67a1.003 1.003 0 0 1-.16-.56v-2.63a.998.998 0 0 1 .36-.76.943.943 0 0 1 .64-.24h.18l3.43.63 1.41-2.58-4.28-1.85a1 1 0 0 1-.58-.71l-1.36-6.26-1.73.25h-.14a1 1 0 0 1-.71-.3l-3.8-3.8a1.001 1.001 0 0 1-.27-.9l.76-3.77c.074-.372.354-.671.72-.77l5.26-1.4 3.57-7.19a1 1 0 0 1 .89-.56c.06-.01.12-.01.18 0l5.72 1 1.55-3.09a1 1 0 0 1 .54-.48l2.75-1 4.41-5.42-2.45-6.26a1 1 0 0 1 .17-1l2.28-2.66c.19-.222.468-.35.76-.35a.995.995 0 0 1 .35.06l2.34.88 4.08-5.48a1 1 0 0 1 .8-.4c.195-.001.386.054.55.16l1.69 1.13 2.85-2.19c.175-.135.389-.209.61-.21a.816.816 0 0 1 .27 0l4.15 1.16.63-5.63a1.004 1.004 0 0 1 1-.89c.083-.01.167-.01.25 0l2.59.65 1.93-1.38a1.002 1.002 0 0 1 1-.76c.135 0 .269.031.39.09l.73.31a.991.991 0 0 1 .33.24l5.32 5.7 4.8-.69h.14c.282.001.551.121.74.33l3.77 4.14c.342.379.342.961 0 1.34l-2.44 2.77 1 1.17 2.27-2.27a.999.999 0 0 1 .71-.29c.099-.015.201-.015.3 0a1 1 0 0 1 .68.78l.59 3.25 1.23-.16v-5.57c0-.409.25-.779.63-.93l3.8-1.52a.997.997 0 0 1 1.12.27l2.71 3.08h4.86c.449-.022.861.262 1 .69l2.41 7.56 7.14-.68h.1c.431 0 .816.28.95.69l.51 1.54 4.59-.33h.19l2.61.52v-2.54a1.002 1.002 0 0 1 .75-1l13.65-3.42h.24c.393-.005.755.223.92.58l3.71 8.42a.978.978 0 0 1 .06.15l1 3.86 4.72 3.68 5.49-.83h.15c.469-.014.888.304 1 .76l.89 3.55a1 1 0 0 1-.17.84l-3.39 4.56a1 1 0 0 1-.67.39h-.08a.998.998 0 0 1-.62-.22l-3-2.43-4.38 5.15 4 2.43c.449.278.604.867.35 1.33l-2.35 4.18a1 1 0 0 1-.58.48l-3.94 1.22 1.05 3.18 4.58 2.47c.325.173.529.512.53.88v4.56c.002.313-.142.609-.39.8l-6 4.58.34 5.55a.88.88 0 0 1-.07.43l-2.28 5.67a1 1 0 0 1-.3.41l-1.39 1.11 1 3.54c.11.405-.046.839-.39 1.08l-2.33 1.64-.22 2.24h2.31c.481-.01.904.329 1 .8l1.52 7.18c.057.253.014.518-.12.74l-2.89 4.68.36 18.83 5.55 3.14c.177.098.32.248.41.43l3 6c.07.14.107.294.107.45 0 .547-.45.998-.997 1h-4.49l-3.5 3.51a.999.999 0 0 1-.71.29h-.16l-5.16-.64-.11.57 2.41 3.45c.162.229.22.516.16.79a1 1 0 0 1-.48.65l-5.29 3c-.15.083-.319.127-.49.13a1.003 1.003 0 0 1-.45-.11l-2.32-1.13-2.42 2.7 1.16 2a1.005 1.005 0 0 1-.36 1.36l-1.33.8.67 5c.037.271-.039.546-.21.76a1.002 1.002 0 0 1-.7.37l-8.72.73-1.54 1.54 2.39 5.42c.072.211.072.439 0 .65l-.22.86c-.111.416-.48.716-.91.74l-10.83.67a1 1 0 0 1-.82-.42l-7-10.06-5.3 9.59a1 1 0 0 1-.5.44l-13.27 5.32a.937.937 0 0 1-.37.07 1 1 0 0 1-1-.94l-.72-12.34-5.52-3.08-6.68 10.21a1.002 1.002 0 0 1-.83.45.67.67 0 0 1-.2 0l-4.81-1-.87 2.93a1 1 0 0 1-.8.7l-9.06 1.53h-.17a1.006 1.006 0 0 1-.61-.21l-2.42-1.88-1.3 3.09a1.001 1.001 0 0 1-.92.59h-5.56l-2.36 3.37a1 1 0 0 1-.82.43l-17.49-.81Z"
                className={`transition-all duration-300 ${
                    activeDepartment === '94' ? 'fill-orange-100 stroke-orange-500' : 'fill-teal-100/20 stroke-teal-600/40'
                }`}
                onMouseEnter={() => setActiveDepartment('94')}
                onMouseLeave={() => setActiveDepartment(null)}
                />
              </g>
            </svg>
            
            {/* Interactive overlay */}
            <div className="absolute inset-0 flex items-center justify-center">
              <div className="relative w-full h-full">
                {departments.map((dept, index) => (
                  <div
                    key={dept.id}
                    className={`absolute transition-all duration-300 ${
                      activeDepartment === dept.id ? 'scale-110 opacity-100' : 'opacity-0'
                    }`}
                    style={{
                      top: `${(Math.sin((index * Math.PI * 2) / departments.length) * 40) + 50}%`,
                      left: `${(Math.cos((index * Math.PI * 2) / departments.length) * 40) + 50}%`,
                    }}
                  >
                    <Card className="p-4 bg-white/90 backdrop-blur-sm shadow-lg">
                      <p className="font-medium">{dept.name}</p>
                      <p className="text-sm text-gray-500">Intervention 7j/7</p>
                    </Card>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  )
}